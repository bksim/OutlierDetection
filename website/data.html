<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

	<!-- Basic Page Needs
  ================================================== -->
	<meta charset="utf-8">
	<title>Outlier Detection</title>
	<meta name="description" content="">
	<meta name="author" content="">

	<!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
  ================================================== -->
	<link rel="stylesheet" href="stylesheets/base.css">
	<link rel="stylesheet" href="stylesheets/skeleton.css">
	<link rel="stylesheet" href="stylesheets/layout.css">
	<link rel="stylesheet" href="stylesheets/default.css">


	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

	<script src="js/jquery-1.11.0.min.js"></script>
	<script src="js/lightbox.min.js"></script>
	<link href="css/lightbox.css" rel="stylesheet" />

	<script>
	$(document).ready(function(){
		var hide=false;
		//$(".toggle-table").toggle();
	 	$(".toggle").click(function(){
	 		if(hide){
	 			$(".toggle").html("[hide table of features]");
	 			hide=false;
	 		}
	 		else{
	 			$(".toggle").html("[show table of features]");
	 			hide=true;
	 		}
	    	$(".toggle-table").toggle();
	  	});
	});
	</script>
	<script type="text/javascript"
	    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>

	<script type="text/x-mathjax-config">
	  MathJax.Hub.Config({
	    tex2jax: {
	      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
	      processEscapes: true
	    }
	  });
	</script>
</head>
<body>



	<!-- Primary Page Layout
	================================================== -->

	<!-- Delete everything in this .container and get started on your own site! -->

	<!--<div class="container">
		<div class="sixteen columns">
			<h1 class="remove-bottom" style="margin-top: 40px">Skeleton</h1>
			<h5>Version 1.2</h5>
			<hr />
		</div>
		<div class="one-third column">
			<h3>About Skeleton?</h3>
			<p>Skeleton is a small collection of well-organized CSS files that can help you rapidly develop sites that look beautiful at any size, be it a 17" laptop screen or an iPhone. It's based on a responsive grid, but also provides very basic CSS for typography, buttons, forms and media queries. Go ahead, resize this super basic page to see the grid in action.</p>
		</div>
		<div class="one-third column">
			<h3>Three Core Principles</h3>
			<p>Skeleton is built on three core principles:</p>
			<ul class="square">
				<li><strong>A Responsive Grid Down To Mobile</strong>: Elegant scaling from a browser to tablets to mobile.</li>
				<li><strong>Fast to Start</strong>: It's a tool for rapid development with best practices</li>
				<li><strong>Style Agnostic</strong>: It provides the most basic, beautiful styles, but is meant to be overwritten.</li>
			</ul>
		</div>
		<div class="one-third column">
			<h3>Docs &amp; Support</h3>
			<p>The easiest way to really get started with Skeleton is to check out the full docs and info at <a href="http://www.getskeleton.com">www.getskeleton.com.</a>. Skeleton is also open-source and has a <a href="https://github.com/dhgamache/skeleton">project on git</a>, so check that out if you want to report bugs or create a pull request. If you have any questions, thoughts, concerns or feedback, please don't hesitate to email me at <a href="mailto:hi@getskeleton.com">hi@getskeleton.com</a>.</p>
		</div>

	</div>-->
	<!-- container -->

	<div class="main container">
		<div class="row">
			<div class="three columns sidebar">
				<div id="nav">
					<h4 class="hero">Navigation</h4>
					<a href="./index.html">Home</a>
					<a href="./motivation.html">Motivation</a>
					<a href="./data.html">Data &amp; Initial Exploration</a>
					<a href="./methods.html">Previous Work &amp; Methods</a>
					<a href="./results.html">Mixture of Experts &amp; Results</a>
				</div>
			</div>

			<div id="content" class="nine columns">
				<h4 class="title">Data &amp; Initial Exploration</h4>
				<h5>Timeseries Data and Feature Extraction</h5>


				<p>Data used in the present study are a sample of the larger dataset used in <a href="http://iopscience.iop.org/0004-637X/793/1/23">Nun et al. 2014</a>. Briefly, the astronomical time series are from the Massive Compact Halo Object (MACHO) catalog, a collection of star observations from July 1992 to 1999. Regions of the sky surveyed include the Large Magellanic Cloud (LMC), the Small Magellanic Cloud (SMC), and the Galactic bulge (<a href="http://iopscience.iop.org/0004-637X/486/2/697">Alcock et al. 1997</a>). Data from the infrared (I) and visible (V) channels are used in this project.</p>

				<p>The first step of the outlier detection process is performing dimensionality reduction on the astronomical time series dataset described above. Each time series is reduced into a 57-dimensional feature vector, with features calculated using the <a href="https://pypi.python.org/pypi/FATS/1.2.0">FATS time series analysis library</a>. (We also contributed new features to this library.) A list of the features used is provided in the table below, and further documentation regarding the specific features used can be found in the library and in our code. These features were calculated on the <a href="https://rc.fas.harvard.edu/odyssey/">Harvard Odyssey Cluster</a> in parallel, since the cluster had infrastructure for parallelization.

				<br><br>	
				<span style='color:#2C7DA0;text-decoration:underline;cursor:pointer;' class='toggle'>[hide table of features]</span>
				<div class='toggle-table'>
					<table>
					  <thead>
					    <tr>
					      <th>Feature</th>
					      <th>Reference</th>
					    </tr>
					  </thead>
					  <tbody>
					    <tr>
					      <td>Amplitude</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Anderson-Darling test</td>
					      <td>Kim et al., 2008</td>
					    </tr>
					    <tr>
					      <td>Automean</td>
					      <td>None</td>
					    </tr>
					    <tr>
					      <td>Autocorrelation length</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Beyond1Std</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>CAR$_\sigma$</td>
					      <td>Pichara et al., 2012</td>
					    </tr>
					    <tr>
					      <td>CAR_tmean</td>
					      <td>Pichara et al., 2012</td>
					    </tr>
					    <tr>
					      <td>CAR$_\tau$</td>
					      <td>Pichara et al., 2012</td>
					    </tr>
					    <tr>
					      <td>Con</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>$\eta_e$</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Flux percentile Ratio Mid 20</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Flux percentile ratio Mid 35</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Flux percentile ratio Mid 50</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Flux percentile ratio Mid 65</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Flux percentile ratio Mid 80</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Linear trend</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Max slope</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Mean</td>
					      <td>Kim et al., 2014</td>
					    </tr>
					    <tr>
					      <td>Mean variance</td>
					      <td>Kim et al., 2014</td>
					    </tr>
					    <tr>
					      <td>Median Absolute Dev</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Median BRP</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Pair slope trend</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Percent amplitude</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Percent difference flux percentile</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Period (Lomb-Scargle)</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Period (fit)</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>$\psi_{\textrm{cs}}$</td>
					      <td>Kim et al., 2014</td>
					    </tr>
					    <tr>
					      <td>$\psi_{\eta}$</td>
					      <td>Kim et al., 2014</td>
					    </tr>
					    <tr>
					      <td>Q31</td>
					      <td>Kim et al., 2014</td>
					    </tr>
					    <tr>
					      <td>Rcs</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Skew</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Small kurtosis</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Standard deviation</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Stetson-K</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Frequency $i$, Amplitude $A_j$, for $i\in\{1,2,3\}, j\in\{1,2,3,4\}$</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Frequency $i$, Relative phase $\phi_j$, for $i\in\{1,2,3\}, j\in\{1,2,3,4\}$</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					  </tbody>
					</table>
				</div>
				<p class="caption"><strong>Table D1. Timeseries features and citations in the FATS library.</strong> These 57 features were calculated for the light curve timeseries data.</p>

				<p>As part of this project, we made contributions to the FATS library, creating 24 features representing the amplitudes and phases of various Lomb-Scargle-periodogram deduced frequencies and harmonics. These 24 features are included in our 57-dimensional feature space.</p>

				 <p>To train the mixture of experts model, a sample of 1913 light curves were used: 296 from lpv, 293 from dsct, 297 from ecl, 202 from t2cep, 294 from cep, 82 from acep, 291 from rrlyr, and 22 from rcb. Light curves were used only if there was data from both the I and the V channels. </p>

				<h5>Data Visualization</h5>
				<p>To visualize the 57-dimension data points more easily, principal component analysis (PCA) was done on the extracted time series features for each light curve. The first two principal components were used to make a 2D plot (Figure D1). </p>

				<a href='images/Data1.png' data-lightbox='Data1'>
				<img src="images/Data1.png" width="100%" style="margin-left: auto; margin-right: auto; display: block;margin-bottom:15px;"/>
				</a>
				<p class="caption"><strong>Figure D1. Light curves in the PCA plane.</strong> Principal component analysis (PCA) was done on the extracted time series features for each light curve. Each dot represents a light curve. The color represents the known class labels of the light curve. Time series data from the visible (V) (top) and infrared (I) (bottom)channels are shown.</p>

				<p>As can be seen, the rcb class appears to be the most outlierly, with points spread out across the PCA plane, separated from the main cluster of points in the other classes. This was the reason we chose to use the rcb class to test our outlier detection methods.</p>



				<h5>Initial Exploration</h5>
				<p>We started our exploration by plotting the light curves in feature space, projected onto two feature axes at a time. We might be curious at seeing whether some of the outliers detected by our methodology show up as obvious visual outliers in projected two-dimensional feature space. Below are some of the plots generated by projecting the light curves onto various combinations of two features.</p>

				<a href='images/ampvmean.png' data-lightbox='ampvmean'>
				<img src='images/ampvmean.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D2. Light curve data projected onto Amplitude and Mean axes.</strong> Projection of light curve feature vectors onto amplitude and mean axes. Time series data from the visible (V) (top) and infrared (I) channels are shown.</p>

				<a href='images/ampvperiod.png' data-lightbox='ampvperiod'>
				<img src='images/ampvperiod.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D3. Light curve data projected onto Amplitude and Period axes.</strong> Projection of light curve feature vectors onto amplitude and period axes. Time series data from the visible (V) (top) and infrared (I) channels are shown.</p>

				<a href='images/ampvfreq.png' data-lightbox='ampvfreq'>
				<img src='images/ampvfreq.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D4. Light curve data projected onto Amplitude and Frequency axes.</strong> Projection of light curve feature vectors onto amplitude and frequency axes. Time series data from the visible (V) (top) and infrared (I) channels are shown.</p>

				<p>One might expect that the points which are far away from the clusters of points might be denoted as outliers. Indeed, running preliminary single-expert models on the data and generating the same graphs confirms our intuition: the points in red on the plots below are outliers marked by single-expert models. Note that they seem to be far from the other points (in general) in the projections selected. Click on each image and then use the left and right arrow keys to clearly switch between the original projection and the projection marked by outliers.</p>

				<a href='images/ampvmean_result.png' data-lightbox='ampvmean'>
				<img src='images/ampvmean_result.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D5. Light curve data projected onto Amplitude and Mean axes.</strong> Projection of light curve feature vectors onto amplitude and mean axes. Outliers marked in red, calculated from KNN-1 single-expert model. Time series data from the visible (V) (top) and infrared (I) channels are shown.</p>

				<a href='images/ampvperiod_result.png' data-lightbox='ampvperiod'>
				<img src='images/ampvperiod_result.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D6. Light curve data projected onto Amplitude and Period axes.</strong> Projection of light curve feature vectors onto amplitude and period axes. Outliers marked in red, calculated from KNN-1 single-expert model. Time series data from the visible (V) (top) and infrared (I) channels are shown.</p>

				<a href='images/ampvfreq_result.png' data-lightbox='ampvfreq'>
				<img src='images/ampvfreq_result.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D7. Light curve data projected onto Amplitude and Frequency axes.</strong> Projection of light curve feature vectors onto amplitude and frequency axes. Outliers marked in red, calculated from KNN-1 single-expert model. Time series data from the visible (V) (top) and infrared (I) channels are shown.</p>
			</div>
		</div>
	</div><!-- container -->

<!-- End Document
================================================== -->
</body>
</html>