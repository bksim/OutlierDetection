 <!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

	<!-- Basic Page Needs
  ================================================== -->
	<meta charset="utf-8">
	<title>Outlier Detection</title>
	<meta name="description" content="">
	<meta name="author" content="">

	<!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
  ================================================== -->
	<link rel="stylesheet" href="stylesheets/base.css">
	<link rel="stylesheet" href="stylesheets/skeleton.css">
	<link rel="stylesheet" href="stylesheets/layout.css">
	<link rel="stylesheet" href="stylesheets/default.css">


	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- Favicons
	================================================== -->
	<link rel="shortcut icon" href="images/favicon.ico">
	<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

	<script src="js/jquery-1.11.0.min.js"></script>
	<script src="js/lightbox.min.js"></script>
	<link href="css/lightbox.css" rel="stylesheet" />

	<script>
	$(document).ready(function(){
		var hide=false;
		//$(".toggle-table").toggle();
	 	$(".toggle").click(function(){
	 		if(hide){
	 			$(".toggle").html("[hide table of features]");
	 			hide=false;
	 		}
	 		else{
	 			$(".toggle").html("[show table of features]");
	 			hide=true;
	 		}
	    	$(".toggle-table").toggle();
	  	});
	});
	</script>
	<script type="text/javascript"
	    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>

	<script type="text/x-mathjax-config">
	  MathJax.Hub.Config({
	    tex2jax: {
	      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
	      processEscapes: true
	    }
	  });
	</script>
</head>
<body>



	<!-- Primary Page Layout
	================================================== -->

	<!-- Delete everything in this .container and get started on your own site! -->

	<!--<div class="container">
		<div class="sixteen columns">
			<h1 class="remove-bottom" style="margin-top: 40px">Skeleton</h1>
			<h5>Version 1.2</h5>
			<hr />
		</div>
		<div class="one-third column">
			<h3>About Skeleton?</h3>
			<p>Skeleton is a small collection of well-organized CSS files that can help you rapidly develop sites that look beautiful at any size, be it a 17" laptop screen or an iPhone. It's based on a responsive grid, but also provides very basic CSS for typography, buttons, forms and media queries. Go ahead, resize this super basic page to see the grid in action.</p>
		</div>
		<div class="one-third column">
			<h3>Three Core Principles</h3>
			<p>Skeleton is built on three core principles:</p>
			<ul class="square">
				<li><strong>A Responsive Grid Down To Mobile</strong>: Elegant scaling from a browser to tablets to mobile.</li>
				<li><strong>Fast to Start</strong>: It's a tool for rapid development with best practices</li>
				<li><strong>Style Agnostic</strong>: It provides the most basic, beautiful styles, but is meant to be overwritten.</li>
			</ul>
		</div>
		<div class="one-third column">
			<h3>Docs &amp; Support</h3>
			<p>The easiest way to really get started with Skeleton is to check out the full docs and info at <a href="http://www.getskeleton.com">www.getskeleton.com.</a>. Skeleton is also open-source and has a <a href="https://github.com/dhgamache/skeleton">project on git</a>, so check that out if you want to report bugs or create a pull request. If you have any questions, thoughts, concerns or feedback, please don't hesitate to email me at <a href="mailto:hi@getskeleton.com">hi@getskeleton.com</a>.</p>
		</div>

	</div>-->
	<!-- container -->

	<div class="main container">
		<div class="row">
			<div class="three columns sidebar">
				<div id="nav">
					<h4 class="hero">Navigation</h4>
					<a href="./index.html">Home</a>
					<a href="./motivation.html">Motivation</a>
					<a href="./data.html">Data &amp; Initial Exploration</a>
					<a href="./methods.html">Previous Work &amp; Methods</a>
					<a href="./results.html">Mixture of Experts &amp; Results</a>
				</div>
			</div>

			<div id="content" class="nine columns">
				<h4 class="title">Data &amp; Initial Exploration</h4>
				<h5>Timeseries Data and Feature Extraction</h5>


				<p>Data used in the present study are a sample of the larger dataset used in <a href="http://iopscience.iop.org/0004-637X/793/1/23">Nun et al. 2014</a>. <!--Briefly, the astronomical time series are from the Massive Compact Halo Object (MACHO) catalog, a collection of star observations from July 1992 to 1999. Regions of the sky surveyed include the Large Magellanic Cloud (LMC), the Small Magellanic Cloud (SMC), and the Galactic bulge (<a href="http://iopscience.iop.org/0004-637X/486/2/697">Alcock et al. 1997</a>).-->In particular, data was gathered through the third phase of the Optical Gravitational Lensing Experiment (OGLE-III), an experiment primarily devoted to detecting gravitational microlensing events and transiting planets in the Galactic Bulge, the constellation Carina, and both Magellanic Clouds (Large Magellanic Cloud, Small Magellanic Cloud). Data was collected through OGLE-III throughout a period from 2001 until 2009; throughout years of monitoring, OGLE helped create the largest catalogs of variable stars, a portion of which we use in our project. Here, we focus on data from the LMC; data from the infrared (I) and visible (V) channels are used.</p>

				<p>
				Data from the OGLE-III LMC observations include light curves from nine different classes of objects. Descriptions of these classes and the amount of data used for each class are provided in the table below.
				</p>

				<div class='ogle-table'>
					<table>
					  <thead>
					    <tr>
					      <th>Object class</th>
					      <th>Description</th>
					      <th>Large Dataset</th>
					      <th>Total</th>
					    </tr>
					  </thead>
					  <tbody>
					    <tr>
					      <td>Anomalous Cepheids (acep)</td>
					      <td>Stars with periods characteristic of comparatively longer-period RR Lyrae variables (0.4 to 2 days), but much brighter by luminosity; these stars are also more massive (1.3 to 2.2 solar masses) than RR Lyrae stars.</td>
					      <td>82</td>
					      <td>83</td>
					    </tr>

					    <tr>
					      <td>Cepheids (cep)</td>
					      <td>Radially pulsating, high luminosity (Ib-II) variable stars with amplitudes ranging from several hundredths to 2 magnitudes in the V band. They have similar temperatures to the Sun, with spectral types from F to K (spectral type at maximum light is F) with periods in the range of 1-50 days.</td>
					      <td>2139</td>
					      <td>3375</td>
					    </tr>

					    <tr>
					      <td>Double Periodic Variables (dpv)</td>
					      <td>Semi-detached interacting binaries characterized by orbital photometric variability with time scales of a few days and a long photometric cycle lasting roughly 33 times the orbital period.</td>
					      <td>136</td>
					      <td>137</td>
					    </tr>

					    <tr>
					      <td>$\delta$ Scuti Variables (dsct)</td>
					      <td>(Also known as a dwarf cepheid) Variable star with luminosity variations due to both radial and non-radial pulsations of the star surface. Class V-III variable stars with amplitudes less than 1 mag; they have periods between 30 minutes and 8 hours. $\delta$ Scuti variables have spectral types ranging from A to early F, and are the second most abundant pulsating variable in our galaxy after white dwarfs.</td>
					      <td>1252</td>
					      <td>2788</td>
					    </tr>

					    <tr>
					      <td>Eclipsing Binary Stars (ecl)</td>
					      <td>Binary systems of stars with an orbital plane lying near the line-of-sight of the observer. The components of these systems periodically eclipse one another, causing a decrease in apparent brightness to the observer with period on the timescale of minutes to years. Changes in apparent combined brightness of the system have period coincident with the components' orbital motion.</td>
					      <td>15377</td>
					      <td>26121</td>
					    </tr>

					    <tr>
					      <td>Long Period Variables (lpv)</td>
					      <td>Pulsating red giants or supergiants with periods ranging from 30-1000 days. Are usually of spectral type M, R, C, or N.</td>
					      <td>14883</td>
					      <td>91995</td>
					    </tr>

					    <tr>
					      <td>R Coronae Borealis Variables (rcb)</td>
					      <td>Hydrogen-deficient, carbon and helium-rich, high-luminosity stars which belong to spectral types Bpe-C, which are simultaneously eruptive and pulsating variables. These stars show slow non-periodic fadings with rapid decline and slow recovery, combined with cyclic pulsations with amplitudes up to several tenths of a magnitude.</td>
					      <td>22</td>
					      <td>23</td>
					    </tr>

					    <tr>
					      <td>RR Lyrae Stars (rrlyr)</td>
					      <td>Radially pulsating white giant A-F stars with amplitudes from 0.2 to 2 magnitudes. Short period (0.05 to 1.2 days) stars which belong mostly to the spherical component of the Galaxy.</td>
					      <td>14913</td>
					      <td>24906</td>
					    </tr>

					    <tr>
					      <td>Type II Cepheids (t2cep)</td>
					      <td>Low mass stars which pulsate with periods ranging from 1 to 50 days. Old, typically metal-poor stars with amplitudes from 0.3 to 1.2 magnitudes, with a characteristic bump on the decline side in their light curves.</td>
					      <td>202</td>
					      <td>203</td>
					    </tr>
					  </tbody>
					</table>
				</div>

				<p>Note that the R Coronae Borealis (rcb) variables are considered as outliers for our purposes. As noted above, these RCB variables are hydrogen-deficient, carbon and helium-rich, high-luminosity stars which belong to spectral types Bpe-C, which are simultaneously eruptive and pulsating variables. These stars show slow non-periodic fadings with rapid decline and slow recovery, combined with cyclic pulsations with amplitudes up to several tenths of a magnitude. Their high luminosity and combination of eruptive and pulsating variable characteristics, as well as the small number of this type of variable star catalogued in the OGLE-III experiment, led us to artificially tag this class as an outlier class. We hope that our outlier detection algorithms will be able to detect these differences, since there are very few R Coronae Borealis variables in our dataset as compared to objects in other classes.
				</p>

				<p>The first step of the outlier detection process is performing dimensionality reduction on the astronomical time series dataset described above. Each time series is reduced into a 57-dimensional feature vector, with features calculated using the <a href="https://pypi.python.org/pypi/FATS/1.2.0">FATS time series analysis library</a>. (We also contributed new features to this library.) A list of the features used is provided in the table below, and further documentation regarding the specific features used can be found in the library and in our code. These features were calculated on the <a href="https://rc.fas.harvard.edu/odyssey/">Harvard Odyssey Cluster</a> in parallel, since the cluster had infrastructure for parallelization.

				<br><br>	
				<span style='color:#2C7DA0;text-decoration:underline;cursor:pointer;' class='toggle'>[hide table of features]</span>
				<div class='toggle-table'>
					<table>
					  <thead>
					    <tr>
					      <th>Feature</th>
					      <th>Reference</th>
					    </tr>
					  </thead>
					  <tbody>
					    <tr>
					      <td>Amplitude</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Anderson-Darling test</td>
					      <td>Kim et al., 2008</td>
					    </tr>
					    <tr>
					      <td>Automean</td>
					      <td>None</td>
					    </tr>
					    <tr>
					      <td>Autocorrelation length</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Beyond1Std</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>CAR$_\sigma$</td>
					      <td>Pichara et al., 2012</td>
					    </tr>
					    <tr>
					      <td>CAR_tmean</td>
					      <td>Pichara et al., 2012</td>
					    </tr>
					    <tr>
					      <td>CAR$_\tau$</td>
					      <td>Pichara et al., 2012</td>
					    </tr>
					    <tr>
					      <td>Con</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>$\eta_e$</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Flux percentile Ratio Mid 20</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Flux percentile ratio Mid 35</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Flux percentile ratio Mid 50</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Flux percentile ratio Mid 65</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Flux percentile ratio Mid 80</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Linear trend</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Max slope</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Mean</td>
					      <td>Kim et al., 2014</td>
					    </tr>
					    <tr>
					      <td>Mean variance</td>
					      <td>Kim et al., 2014</td>
					    </tr>
					    <tr>
					      <td>Median Absolute Dev</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Median BRP</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Pair slope trend</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Percent amplitude</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Percent difference flux percentile</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Period (Lomb-Scargle)</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Period (fit)</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>$\psi_{\textrm{cs}}$</td>
					      <td>Kim et al., 2014</td>
					    </tr>
					    <tr>
					      <td>$\psi_{\eta}$</td>
					      <td>Kim et al., 2014</td>
					    </tr>
					    <tr>
					      <td>Q31</td>
					      <td>Kim et al., 2014</td>
					    </tr>
					    <tr>
					      <td>Rcs</td>
					      <td>Kim et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Skew</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Small kurtosis</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Standard deviation</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Stetson-K</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Frequency $i$, Amplitude $A_j$, for $i\in\{1,2,3\}, j\in\{1,2,3,4\}$</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					    <tr>
					      <td>Frequency $i$, Relative phase $\phi_j$, for $i\in\{1,2,3\}, j\in\{1,2,3,4\}$</td>
					      <td>Richards et al., 2011</td>
					    </tr>
					  </tbody>
					</table>
				</div>
				<p class="caption"><strong>Table D1. Timeseries features and citations in the FATS library.</strong> These 57 features were calculated for the light curve timeseries data.</p>

				<p>As part of this project, we made contributions to the FATS library, creating 24 features representing the amplitudes and phases of various Lomb-Scargle-periodogram deduced frequencies and harmonics. These 24 features are included in our 57-dimensional feature space.</p>

				 <p>To train the mixture of experts model, a sample of 1913 light curves were used: 296 from lpv, 293 from dsct, 297 from ecl, 202 from t2cep, 294 from cep, 82 from acep, 291 from rrlyr, and 22 from rcb. Light curves were used only if there was data from both the I and the V channels. </p>

				<h5>Data Visualization</h5>
				<p>To visualize the 57-dimension data points more easily, principal component analysis (PCA) was done on the extracted time series features for each light curve. The first two principal components were used to make a 2D plot (Figure D1). PCA was used because visualizing a 57-dimensional space on a 2D image is very difficult. One could imagine plotting the data points on axes of each pair of features. However, this would create too many (57 choose 2) plots and therefore would be hard to easily grasp the shape of the data point cloud. PCA is a great way to draw a plane through the 57-dimensional data point cloud in such a way that the plane captures the most variation in the data. Projecting the data points on this place thus may allow visualization of outlier points more easily. We note that PCA was solely used as a visualization tool, and was not used for any of the mathematical mechanics in building the outlier detection models. </p>

				<a href='images/Data1.png' data-lightbox='Data1'>
				<img src="images/Data1.png" width="100%" style="margin-left: auto; margin-right: auto; display: block;margin-bottom:15px;"/>
				</a>
				<p class="caption"><strong>Figure D1. Light curves in the PCA plane.</strong> Principal component analysis (PCA) was done on the extracted time series features for each light curve. Each dot represents a light curve. The color represents the known class labels of the light curve. Time series data from the visible (V) (top) and infrared (I) (bottom)channels are shown.</p>

				<p>As can be seen, the rcb class appears to be the most outlierly, with points spread out across the PCA plane, separated from the main cluster of points in the other classes. This was the reason we chose to use the rcb class to test our outlier detection methods.</p>



				<h5>Initial Exploration</h5>
				<p>We started our exploration by plotting the light curves in feature space, projected onto two feature axes at a time. We might be curious at seeing whether some of the outliers detected by our methodology show up as obvious visual outliers in projected two-dimensional feature space. Below are some of the plots generated by projecting the light curves onto various combinations of two features.</p>

				<a href='images/ampvmean.png' data-lightbox='ampvmean'>
				<img src='images/ampvmean.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D2. Light curve data projected onto amplitude and mean axes.</strong> It seems that amplitude may be a feature that will account for the separation of outliers from the rest of the data. </p>

				<a href='images/ampvperiod.png' data-lightbox='ampvperiod'>
				<img src='images/ampvperiod.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D3. Light curve data projected onto amplitude and period axes.</strong> </p>

				<a href='images/ampvfreq.png' data-lightbox='ampvfreq'>
				<img src='images/ampvfreq.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D4. Light curve data projected onto Amplitude and Frequency axes.</strong></p>

				<p>One might expect that the points which are far away from the clusters of points might be denoted as outliers. Indeed, running preliminary single-expert models on the data and generating the same graphs confirms our intuition: the points in red on the plots below are outliers marked by single-expert models. Note that they seem to be far from the other points (in general) in the projections selected. Click on each image and then use the left and right arrow keys to clearly switch between the original projection and the projection marked by outliers.</p>

				<a href='images/ampvmean_result.png' data-lightbox='ampvmean'>
				<img src='images/ampvmean_result.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D5. Light curve data projected onto amplitude and mean axes.</strong> Projection of light curve feature vectors onto amplitude and mean axes. Outliers marked in red, calculated from KNN-1 single-expert model.</p>

				<a href='images/ampvperiod_result.png' data-lightbox='ampvperiod'>
				<img src='images/ampvperiod_result.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D6. Light curve data projected onto amplitude and period axes.</strong> Projection of light curve feature vectors onto amplitude and period axes. Outliers marked in red, calculated from KNN-1 single-expert model.</p>

				<a href='images/ampvfreq_result.png' data-lightbox='ampvfreq'>
				<img src='images/ampvfreq_result.png' width='80%' style='margin-left:auto; margin-right:auto; display:block;margin-bottom:15px;'/>
				</a>

				<p class="caption"><strong>Figure D7. Light curve data projected onto Amplitude and Frequency axes.</strong> Projection of light curve feature vectors onto amplitude and frequency axes. Outliers marked in red, calculated from KNN-1 single-expert model.</p>
			</div>
		</div>
	</div><!-- container -->

<!-- End Document
================================================== -->
</body>
</html>